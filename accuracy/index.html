<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Accuracy - OpenFace</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">OpenFace</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Demos <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../demo-1-web/">1 - Real-time Web</a>
                        </li>
                    
                        <li >
                            <a href="../demo-2-comparison/">2 - Comparison</a>
                        </li>
                    
                        <li >
                            <a href="../demo-3-classifier/">3 - Classifier</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="active">
                    <a href="./">Accuracy</a>
                </li>
            
            
            
                <li >
                    <a href="../usage/">Usage</a>
                </li>
            
            
            
                <li >
                    <a href="../models/">Models</a>
                </li>
            
            
            
                <li >
                    <a href="../training-new-models/">DNN Training</a>
                </li>
            
            
            
                <li >
                    <a href="../visualizations/">Visualizations</a>
                </li>
            
            
            
                <li >
                    <a href="../setup/">Setup</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../demo-3-classifier/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../usage/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/cmusatyalab/openface">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#cool-demos-but-i-want-numbers-whats-the-accuracy">Cool demos, but I want numbers. What's the accuracy?</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="cool-demos-but-i-want-numbers-whats-the-accuracy">Cool demos, but I want numbers. What's the accuracy?</h1>
<p>Even though the public datasets we trained on have orders of magnitude less data
than private industry datasets, the accuracy is remarkably high
on the standard
<a href="http://vis-www.cs.umass.edu/lfw/results.html">LFW</a>
benchmark.
We had to fallback to using the deep funneled versions for
152 of 13233 images because dlib failed to detect a face or landmarks.
We obtain a mean accuracy of 0.8483 &plusmn; 0.0172 with an AUC of 0.923.
For comparison, training with Google-scale data results in an
accuracy of .9963 &plusmn; 0.009.</p>
<p><img alt="" src="https://raw.githubusercontent.com/cmusatyalab/openface/master/images/nn4.v1.lfw.roc.png" /></p>
<p>This can be generated with the following commands from the root <code>openface</code>
directory, assuming you have downloaded and placed the raw and
deep funneled LFW data from <a href="http://vis-www.cs.umass.edu/lfw/">here</a>
in <code>./data/lfw/raw</code> and <code>./data/lfw/deepfunneled</code>.</p>
<ol>
<li>Install prerequisites as below.</li>
<li>Preprocess the raw <code>lfw</code> images, change <code>8</code> to however many
   separate processes you want to run:
   <code>for N in {1..8}; do ./util/align-dlib.py data/lfw/raw align affine data/lfw/dlib-affine-sz:96 --size 96 &amp;; done</code>.
   Fallback to deep funneled versions for images that dlib failed
   to align:
   <code>./util/align-dlib.py data/lfw/raw align affine data/lfw/dlib-affine-sz:96 --size 96 --fallbackLfw data/lfw/deepfunneled</code></li>
<li>Generate representations with <code>./batch-represent/main.lua -outDir evaluation/lfw.nn4.v1.reps -model models/openface/nn4.v1.t7 -data data/lfw/dlib-affine-sz:96</code></li>
<li>Generate the ROC curve from the <code>evaluation</code> directory with <code>./lfw-roc.py --workDir lfw.nn4.v1.reps</code>.
   This creates <code>roc.pdf</code> in the <code>lfw.nn4.v1.reps</code> directory.</li>
</ol>
<hr />
<p>If you're interested in higher accuracy open source code, see:</p>
<ol>
<li><a href="http://www.robots.ox.ac.uk/~vgg/software/vgg_face/">Oxford's VGG Face Descriptor</a>,
  which is licensed for non-commercial research purposes.
  They've released their softmax network, which obtains .9727 accuracy
  on the LFW and will release their triplet network (0.9913 accuracy)
  and data soon.</li>
</ol>
<p>Their softmax model doesn't embed features like FaceNet,
  which makes tasks like classification and clustering more difficult.
  Their triplet model hasn't yet been released, but will provide
  embeddings similar to FaceNet.
  The triplet model will be supported by OpenFace once it's released.
2. <a href="https://github.com/AlfredXiangWu/face_verification_experiment">AlfredXiangWu/face_verification_experiment</a>,
  which uses Caffe and doesn't yet have a license.
  The accuracy on the LFW is .9777.
  This model doesn't embed features like FaceNet,
  which makes tasks like classification and clustering more difficult.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center>Crafted by <a href="http://bamos.github.io">Brandon Amos</a> at Carnegie Mellon University</center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
        <script src="../js/extra.js"></script>
        <script src="../js/sp.js"></script>
    </body>
</html>